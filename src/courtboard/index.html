<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tennis Court Display</title>
  <link rel="icon" href="data:,">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./styles/courtboard.css">
</head>

<body>

  <div id="root"></div>
  <!-- Second React root for mobile modals (isolated from main app) -->
  <div id="mobile-modal-root"></div>
  <!-- Third React root for mobile bottom bar (body level to avoid stacking contexts) -->
  <div id="mobile-bottom-bar-root"></div>

  <!-- Plain-JS fallback bar -->
  <div id="mobile-bottom-bar-fallback" hidden>
    <button type="button" data-action="conditions">ğŸŒ¦ï¸<span class="lbl">Conditions</span></button>
    <button type="button" data-action="roster">ğŸ“–<span class="lbl">Roster</span></button>
    <button type="button" data-action="reserved">ğŸ›ï¸<span class="lbl">Reserved</span></button>
    <button type="button" data-action="waitlist">ğŸ‘¥<span class="lbl">Waitlist</span></button>
    <button type="button" data-action="join" disabled aria-disabled="true">ğŸ¾<span class="lbl">Join Waitlist</span></button>
  </div>

  <!-- Shared utils (schema + helpers; loaded before pre-init for readDataSafe) -->
  <script src="../../shared-utils.js"></script>
  <!-- ES Module bridge (loads /src/lib/ exports into window.APP_UTILS) -->
  <script type="module" src="../lib/browser-bridge.js"></script>

  <!-- Pre-init: toast bridge, mobile detection, modal bus (must run before React) -->
  <script src="./bootstrap/courtboardPreInit.js"></script>

  <!-- Mobile Bridge Script -->
  <script src="./mobile-bridge.js"></script>

  <!-- Sync waitlist promotions -->
  <script src="./sync-promotions.js"></script>

  <!-- Mobile fallback bar script -->
  <script src="./mobile-fallback-bar.js?v=5"></script>

  <!-- Vite-bundled React app -->
  <script type="module" src="./main.jsx"></script>

  <!-- Debug Panel - Only visible when ?debug=1 -->
  <script src="./debug-panel.js"></script>

</body>
</html>
